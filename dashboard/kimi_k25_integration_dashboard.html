<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kimi K2.5 Integration Dashboard - x0tta6bl4</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #eaeaea;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px 40px;
            border-bottom: 2px solid #e94560;
        }
        
        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(90deg, #e94560, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #a0a0a0;
            font-size: 1.1em;
        }
        
        .container {
            padding: 30px 40px;
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(233, 69, 96, 0.3);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.2);
        }
        
        .metric-card h3 {
            color: #a0a0a0;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }
        
        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #e94560;
        }
        
        .metric-change {
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .positive { color: #4ecca3; }
        .negative { color: #ff6b6b; }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .dashboard-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(233, 69, 96, 0.3);
        }
        
        .dashboard-card h2 {
            color: #e94560;
            margin-bottom: 20px;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dashboard-card.full-width {
            grid-column: 1 / -1;
        }
        
        #dependency-graph, #risk-heatmap, #throughput-simulator {
            width: 100%;
            height: 400px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        #gantt-chart {
            width: 100%;
            height: 500px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .control-group label {
            font-size: 0.85em;
            color: #a0a0a0;
        }
        
        input[type="range"], select {
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(233, 69, 96, 0.3);
            border-radius: 8px;
            color: #eaeaea;
            font-size: 0.9em;
        }
        
        input[type="range"] {
            width: 150px;
        }
        
        button {
            padding: 10px 20px;
            background: linear-gradient(135deg, #e94560, #ff6b6b);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(233, 69, 96, 0.4);
        }
        
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85em;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }
        
        .risk-high { background: #ff4444; }
        .risk-medium { background: #ffaa00; }
        .risk-low { background: #44ff44; }
        
        .phase-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .phase-foundation { background: #4ecca3; color: #1a1a2e; }
        .phase-integration { background: #e94560; color: white; }
        .phase-vision { background: #ffd700; color: #1a1a2e; }
        .phase-testing { background: #9b59b6; color: white; }
        .phase-production { background: #3498db; color: white; }
        
        .integration-status {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .integration-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .integration-item:hover {
            border-color: #e94560;
            transform: scale(1.05);
        }
        
        .integration-item .icon {
            font-size: 2em;
            margin-bottom: 10px;
        }
        
        .integration-item .name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .integration-item .status {
            font-size: 0.8em;
            padding: 4px 8px;
            border-radius: 4px;
        }
        
        .status-pending { background: #666; }
        .status-progress { background: #f39c12; }
        .status-done { background: #27ae60; }
        
        @media (max-width: 1200px) {
            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            .integration-status {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        @media (max-width: 768px) {
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            .integration-status {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üöÄ Kimi K2.5 Integration Dashboard</h1>
        <div class="subtitle">x0tta6bl4 Mesh Network - Agent Swarm & PARL Implementation</div>
    </div>
    
    <div class="container">
        <!-- Key Metrics -->
        <div class="metrics-grid">
            <div class="metric-card">
                <h3>Parallel Steps</h3>
                <div class="metric-value" id="parallel-steps">1,500</div>
                <div class="metric-change positive">‚Üë 1500x vs baseline</div>
            </div>
            <div class="metric-card">
                <h3>Task Throughput</h3>
                <div class="metric-value" id="throughput">450</div>
                <div class="metric-change positive">‚Üë 4.5x improvement</div>
            </div>
            <div class="metric-card">
                <h3>Active Agents</h3>
                <div class="metric-value" id="active-agents">100</div>
                <div class="metric-change positive">Target: 100/100</div>
            </div>
            <div class="metric-card">
                <h3>Speedup Factor</h3>
                <div class="metric-value" id="speedup">4.5x</div>
                <div class="metric-change positive">Target achieved</div>
            </div>
        </div>
        
        <!-- Integration Status -->
        <div class="dashboard-card full-width">
            <h2>üîå Integration Components Status</h2>
            <div class="integration-status">
                <div class="integration-item">
                    <div class="icon">ü§ñ</div>
                    <div class="name">Federated Learning</div>
                    <div class="status status-progress">In Progress</div>
                </div>
                <div class="integration-item">
                    <div class="icon">üîÑ</div>
                    <div class="name">MAPE-K Loop</div>
                    <div class="status status-progress">In Progress</div>
                </div>
                <div class="integration-item">
                    <div class="icon">üï∏Ô∏è</div>
                    <div class="name">Mesh Network</div>
                    <div class="status status-pending">Pending</div>
                </div>
                <div class="integration-item">
                    <div class="icon">üëÅÔ∏è</div>
                    <div class="name">Vision Module</div>
                    <div class="status status-pending">Pending</div>
                </div>
                <div class="integration-item">
                    <div class="icon">üõ°Ô∏è</div>
                    <div class="name">Anti-Meave</div>
                    <div class="status status-done">Done</div>
                </div>
            </div>
        </div>
        
        <!-- Main Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Dependency Graph -->
            <div class="dashboard-card">
                <h2>üîó Dependency Graph Analyzer</h2>
                <div class="controls">
                    <div class="control-group">
                        <label>View Mode</label>
                        <select id="graph-view-mode">
                            <option value="full">Full Architecture</option>
                            <option value="parl">PARL Engine</option>
                            <option value="swarm">Swarm Layer</option>
                            <option value="integration">Integration Points</option>
                        </select>
                    </div>
                    <button onclick="updateDependencyGraph()">Refresh</button>
                </div>
                <div id="dependency-graph"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #e94560;"></div>
                        <span>Core Components</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4ecca3;"></div>
                        <span>Integration Points</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffd700;"></div>
                        <span>External Systems</span>
                    </div>
                </div>
            </div>
            
            <!-- Risk Heatmap -->
            <div class="dashboard-card">
                <h2>‚ö†Ô∏è Risk Heatmap</h2>
                <div class="controls">
                    <div class="control-group">
                        <label>Risk Type</label>
                        <select id="risk-type">
                            <option value="technical">Technical</option>
                            <option value="integration">Integration</option>
                            <option value="performance">Performance</option>
                            <option value="security">Security</option>
                        </select>
                    </div>
                    <button onclick="updateRiskHeatmap()">Analyze</button>
                </div>
                <div id="risk-heatmap"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color risk-high"></div>
                        <span>High Risk</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color risk-medium"></div>
                        <span>Medium Risk</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color risk-low"></div>
                        <span>Low Risk</span>
                    </div>
                </div>
            </div>
            
            <!-- Throughput Simulator -->
            <div class="dashboard-card">
                <h2>üìä Task Throughput Simulator</h2>
                <div class="controls">
                    <div class="control-group">
                        <label>Agents: <span id="agent-count">50</span></label>
                        <input type="range" id="agent-slider" min="1" max="100" value="50" oninput="updateSimulation()">
                    </div>
                    <div class="control-group">
                        <label>Parallel Steps: <span id="step-count">750</span></label>
                        <input type="range" id="step-slider" min="100" max="1500" value="750" oninput="updateSimulation()">
                    </div>
                    <div class="control-group">
                        <label>Task Complexity</label>
                        <select id="complexity" onchange="updateSimulation()">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                        </select>
                    </div>
                </div>
                <div id="throughput-simulator"></div>
                <div style="margin-top: 15px; padding: 15px; background: rgba(233, 69, 96, 0.1); border-radius: 8px;">
                    <strong>Simulation Results:</strong><br>
                    Expected Throughput: <span id="sim-throughput" style="color: #e94560; font-weight: bold;">225</span> tasks/sec<br>
                    Speedup vs Sequential: <span id="sim-speedup" style="color: #4ecca3; font-weight: bold;">2.25x</span><br>
                    Resource Utilization: <span id="sim-utilization" style="color: #ffd700; font-weight: bold;">75%</span>
                </div>
            </div>
            
            <!-- Gantt Chart -->
            <div class="dashboard-card full-width">
                <h2>üìÖ Implementation Timeline (17 Weeks)</h2>
                <div class="controls">
                    <div class="control-group">
                        <label>Phase Filter</label>
                        <select id="phase-filter" onchange="updateGantt()">
                            <option value="all">All Phases</option>
                            <option value="foundation">Phase 1: Foundation</option>
                            <option value="integration">Phase 2: Integration</option>
                            <option value="vision">Phase 3: Vision</option>
                            <option value="testing">Phase 4: Testing</option>
                            <option value="production">Phase 5: Production</option>
                        </select>
                    </div>
                    <button onclick="updateGantt()">Update View</button>
                </div>
                <div id="gantt-chart"></div>
                <div class="legend">
                    <div class="legend-item">
                        <span class="phase-indicator phase-foundation">Foundation</span>
                    </div>
                    <div class="legend-item">
                        <span class="phase-indicator phase-integration">Integration</span>
                    </div>
                    <div class="legend-item">
                        <span class="phase-indicator phase-vision">Vision</span>
                    </div>
                    <div class="legend-item">
                        <span class="phase-indicator phase-testing">Testing</span>
                    </div>
                    <div class="legend-item">
                        <span class="phase-indicator phase-production">Production</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Dependency Graph Data
        const dependencyData = {
            nodes: [
                { id: "swarm_orchestrator", name: "SwarmOrchestrator", group: "core", size: 30 },
                { id: "parl_controller", name: "PARLController", group: "core", size: 30 },
                { id: "agent_worker", name: "AgentWorker", group: "core", size: 25 },
                { id: "task_scheduler", name: "TaskScheduler", group: "core", size: 25 },
                { id: "fl_integration", name: "FL Integration", group: "integration", size: 20 },
                { id: "mapek_integration", name: "MAPE-K Integration", group: "integration", size: 20 },
                { id: "mesh_integration", name: "Mesh Integration", group: "integration", size: 20 },
                { id: "vision_module", name: "Vision Module", group: "integration", size: 20 },
                { id: "anti_meave", name: "Anti-Meave Oracle", group: "external", size: 25 },
                { id: "ppo_agent", name: "PPO Agent", group: "external", size: 20 },
                { id: "mesh_router", name: "MeshRouter", group: "external", size: 20 },
                { id: "rag_pipeline", name: "RAG Pipeline", group: "external", size: 15 },
                { id: "api_endpoints", name: "API Endpoints", group: "integration", size: 20 },
                { id: "metrics_collector", name: "Metrics Collector", group: "core", size: 15 }
            ],
            links: [
                { source: "swarm_orchestrator", target: "parl_controller", value: 5 },
                { source: "swarm_orchestrator", target: "agent_worker", value: 5 },
                { source: "parl_controller", target: "task_scheduler", value: 4 },
                { source: "parl_controller", target: "fl_integration", value: 3 },
                { source: "parl_controller", target: "mapek_integration", value: 3 },
                { source: "agent_worker", target: "mesh_integration", value: 3 },
                { source: "agent_worker", target: "vision_module", value: 2 },
                { source: "swarm_orchestrator", target: "anti_meave", value: 4 },
                { source: "fl_integration", target: "ppo_agent", value: 4 },
                { source: "mesh_integration", target: "mesh_router", value: 4 },
                { source: "mapek_integration", target: "rag_pipeline", value: 2 },
                { source: "swarm_orchestrator", target: "api_endpoints", value: 3 },
                { source: "parl_controller", target: "metrics_collector", value: 2 },
                { source: "fl_integration", target: "mapek_integration", value: 2 },
                { source: "mesh_integration", target: "vision_module", value: 2 }
            ]
        };
        
        // Initialize Dependency Graph
        function initDependencyGraph() {
            const width = document.getElementById('dependency-graph').clientWidth;
            const height = 400;
            
            const svg = d3.select("#dependency-graph")
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            
            const color = d3.scaleOrdinal()
                .domain(["core", "integration", "external"])
                .range(["#e94560", "#4ecca3", "#ffd700"]);
            
            const simulation = d3.forceSimulation(dependencyData.nodes)
                .force("link", d3.forceLink(dependencyData.links).id(d => d.id).distance(100))
                .force("charge", d3.forceManyBody().strength(-300))
                .force("center", d3.forceCenter(width / 2, height / 2));
            
            const link = svg.append("g")
                .selectAll("line")
                .data(dependencyData.links)
                .enter().append("line")
                .attr("stroke", "#666")
                .attr("stroke-opacity", 0.6)
                .attr("stroke-width", d => Math.sqrt(d.value));
            
            const node = svg.append("g")
                .selectAll("g")
                .data(dependencyData.nodes)
                .enter().append("g")
                .call(d3.drag()
                    .on("start", dragstarted)
                    .on("drag", dragged)
                    .on("end", dragended));
            
            node.append("circle")
                .attr("r", d => d.size)
                .attr("fill", d => color(d.group))
                .attr("stroke", "#fff")
                .attr("stroke-width", 2);
            
            node.append("text")
                .text(d => d.name)
                .attr("x", 0)
                .attr("y", d => d.size + 15)
                .attr("text-anchor", "middle")
                .attr("fill", "#eaeaea")
                .attr("font-size", "10px");
            
            node.append("title")
                .text(d => `${d.name}\nType: ${d.group}`);
            
            simulation.on("tick", () => {
                link
                    .attr("x1", d => d.source.x)
                    .attr("y1", d => d.source.y)
                    .attr("x2", d => d.target.x)
                    .attr("y2", d => d.target.y);
                
                node.attr("transform", d => `translate(${d.x},${d.y})`);
            });
            
            function dragstarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }
            
            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }
            
            function dragended(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }
        }
        
        // Risk Heatmap Data
        const riskData = [
            { component: "PARL Engine", technical: 0.7, integration: 0.6, performance: 0.4, security: 0.3 },
            { component: "Swarm Orchestrator", technical: 0.5, integration: 0.8, performance: 0.6, security: 0.5 },
            { component: "FL Integration", technical: 0.6, integration: 0.9, performance: 0.5, security: 0.4 },
            { component: "MAPE-K Integration", technical: 0.5, integration: 0.7, performance: 0.7, security: 0.3 },
            { component: "Mesh Integration", technical: 0.6, integration: 0.8, performance: 0.8, security: 0.5 },
            { component: "Vision Module", technical: 0.8, integration: 0.6, performance: 0.7, security: 0.2 },
            { component: "Anti-Meave", technical: 0.3, integration: 0.5, performance: 0.3, security: 0.9 },
            { component: "API Endpoints", technical: 0.4, integration: 0.6, performance: 0.5, security: 0.6 }
        ];
        
        // Initialize Risk Heatmap
        function initRiskHeatmap() {
            const width = document.getElementById('risk-heatmap').clientWidth;
            const height = 400;
            const margin = { top: 30, right: 30, bottom: 100, left: 100 };
            
            const svg = d3.select("#risk-heatmap")
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            
            const riskType = document.getElementById('risk-type').value;
            const myGroups = ["technical", "integration", "performance", "security"];
            const myVars = riskData.map(d => d.component);
            
            const x = d3.scaleBand()
                .range([margin.left, width - margin.right])
                .domain(myGroups)
                .padding(0.05);
            
            const y = d3.scaleBand()
                .range([margin.top, height - margin.bottom])
                .domain(myVars)
                .padding(0.05);
            
            const myColor = d3.scaleLinear()
                .range(["#44ff44", "#ffaa00", "#ff4444"])
                .domain([0, 0.5, 1]);
            
            // X axis
            svg.append("g")
                .attr("transform", `translate(0,${height - margin.bottom})`)
                .call(d3.axisBottom(x).tickSize(0))
                .selectAll("text")
                .attr("fill", "#eaeaea")
                .style("text-anchor", "middle");
            
            // Y axis
            svg.append("g")
                .attr("transform", `translate(${margin.left},0)`)
                .call(d3.axisLeft(y).tickSize(0))
                .selectAll("text")
                .attr("fill", "#eaeaea");
            
            // Remove axis lines
            svg.selectAll(".domain").remove();
            
            // Add rectangles
            const flattened = [];
            riskData.forEach(d => {
                myGroups.forEach(g => {
                    flattened.push({ component: d.component, riskType: g, value: d[g] });
                });
            });
            
            svg.selectAll()
                .data(flattened)
                .enter()
                .append("rect")
                .attr("x", d => x(d.riskType))
                .attr("y", d => y(d.component))
                .attr("width", x.bandwidth())
                .attr("height", y.bandwidth())
                .style("fill", d => myColor(d.value))
                .style("opacity", 0.8)
                .on("mouseover", function(event, d) {
                    d3.select(this).style("opacity", 1).style("stroke", "#fff").style("stroke-width", 2);
                })
                .on("mouseout", function() {
                    d3.select(this).style("opacity", 0.8).style("stroke", "none");
                })
                .append("title")
                .text(d => `${d.component}\n${d.riskType}: ${(d.value * 100).toFixed(0)}%`);
        }
        
        // Throughput Simulator
        let throughputChart;
        
        function initThroughputSimulator() {
            const ctx = document.createElement('canvas');
            document.getElementById('throughput-simulator').appendChild(ctx);
            
            throughputChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 20}, (_, i) => i * 5),
                    datasets: [{
                        label: 'Sequential',
                        data: Array(20).fill(100),
                        borderColor: '#666',
                        backgroundColor: 'rgba(102, 102, 102, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'PARL Optimized',
                        data: calculateThroughput(50, 750, 'medium'),
                        borderColor: '#e94560',
                        backgroundColor: 'rgba(233, 69, 96, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#eaeaea' }
                        }
                    },
                    scales: {
                        x: {
                            title: { display: true, text: 'Time (seconds)', color: '#a0a0a0' },
                            ticks: { color: '#a0a0a0' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        },
                        y: {
                            title: { display: true, text: 'Tasks/sec', color: '#a0a0a0' },
                            ticks: { color: '#a0a0a0' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' }
                        }
                    }
                }
            });
        }
        
        function calculateThroughput(agents, steps, complexity) {
            const complexityFactor = { low: 1.2, medium: 1.0, high: 0.8 };
            const baseThroughput = 100;
            const maxThroughput = 450;
            
            const agentFactor = agents / 100;
            const stepFactor = steps / 1500;
            const cf = complexityFactor[complexity];
            
            const throughput = baseThroughput + (maxThroughput - baseThroughput) * agentFactor * stepFactor * cf;
            
            // Generate curve data
            return Array.from({length: 20}, (_, i) => {
                const progress = i / 19;
                return throughput * (0.5 + 0.5 * Math.sin(progress * Math.PI / 2));
            });
        }
        
        function updateSimulation() {
            const agents = parseInt(document.getElementById('agent-slider').value);
            const steps = parseInt(document.getElementById('step-slider').value);
            const complexity = document.getElementById('complexity').value;
            
            document.getElementById('agent-count').textContent = agents;
            document.getElementById('step-count').textContent = steps;
            
            const newData = calculateThroughput(agents, steps, complexity);
            throughputChart.data.datasets[1].data = newData;
            throughputChart.update();
            
            // Update metrics
            const complexityFactor = { low: 1.2, medium: 1.0, high: 0.8 };
            const throughput = Math.round(100 + (450 - 100) * (agents / 100) * (steps / 1500) * complexityFactor[complexity]);
            const speedup = (throughput / 100).toFixed(2);
            const utilization = Math.round((agents / 100) * 100);
            
            document.getElementById('sim-throughput').textContent = throughput;
            document.getElementById('sim-speedup').textContent = speedup + 'x';
            document.getElementById('sim-utilization').textContent = utilization + '%';
        }
        
        // Gantt Chart Data
        const ganttData = [
            { phase: "foundation", name: "Core Swarm Architecture", start: 0, duration: 14, progress: 100 },
            { phase: "foundation", name: "Agent Base Classes", start: 14, duration: 7, progress: 100 },
            { phase: "foundation", name: "PARL Engine Core", start: 21, duration: 14, progress: 75 },
            { phase: "integration", name: "FL Integration", start: 35, duration: 14, progress: 30 },
            { phase: "integration", name: "MAPE-K Integration", start: 49, duration: 14, progress: 0 },
            { phase: "integration", name: "Mesh Network Integration", start: 63, duration: 14, progress: 0 },
            { phase: "vision", name: "Vision Module Core", start: 77, duration: 14, progress: 0 },
            { phase: "vision", name: "Topology Visualization", start: 91, duration: 7, progress: 0 },
            { phase: "vision", name: "Visual Debugging", start: 98, duration: 7, progress: 0 },
            { phase: "testing", name: "API Endpoints", start: 105, duration: 7, progress: 0 },
            { phase: "testing", name: "Load Testing", start: 112, duration: 7, progress: 0 },
            { phase: "testing", name: "Performance Tuning", start: 119, duration: 7, progress: 0 },
            { phase: "production", name: "Security Hardening", start: 126, duration: 7, progress: 0 },
            { phase: "production", name: "Documentation", start: 133, duration: 7, progress: 0 },
            { phase: "production", name: "Production Deployment", start: 140, duration: 7, progress: 0 }
        ];
        
        function initGanttChart() {
            const width = document.getElementById('gantt-chart').clientWidth;
            const height = 500;
            const margin = { top: 30, right: 30, bottom: 50, left: 200 };
            
            const svg = d3.select("#gantt-chart")
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            
            const x = d3.scaleLinear()
                .domain([0, 147])
                .range([margin.left, width - margin.right]);
            
            const y = d3.scaleBand()
                .domain(ganttData.map(d => d.name))
                .range([margin.top, height - margin.bottom])
                .padding(0.1);
            
            const colorScale = d3.scaleOrdinal()
                .domain(["foundation", "integration", "vision", "testing", "production"])
                .range(["#4ecca3", "#e94560", "#ffd700", "#9b59b6", "#3498db"]);
            
            // X axis
            svg.append("g")
                .attr("transform", `translate(0,${height - margin.bottom})`)
                .call(d3.axisBottom(x).ticks(10).tickFormat(d => `Week ${Math.floor(d / 7) + 1}`))
                .selectAll("text")
                .attr("fill", "#a0a0a0");
            
            svg.selectAll(".domain, .tick line").attr("stroke", "rgba(255, 255, 255, 0.2)");
            
            // Y axis
            svg.append("g")
                .attr("transform", `translate(${margin.left},0)`)
                .call(d3.axisLeft(y))
                .selectAll("text")
                .attr("fill", "#eaeaea")
                .style("font-size", "11px");
            
            svg.selectAll(".domain").remove();
            
            // Task bars
            const bars = svg.selectAll(".task-bar")
                .data(ganttData)
                .enter()
                .append("g")
                .attr("class", "task-bar");
            
            // Background bar (total duration)
            bars.append("rect")
                .attr("x", d => x(d.start))
                .attr("y", d => y(d.name))
                .attr("width", d => x(d.start + d.duration) - x(d.start))
                .attr("height", y.bandwidth())
                .attr("fill", d => colorScale(d.phase))
                .attr("opacity", 0.3)
                .attr("rx", 4);
            
            // Progress bar
            bars.append("rect")
                .attr("x", d => x(d.start))
                .attr("y", d => y(d.name))
                .attr("width", d => (x(d.start + d.duration) - x(d.start)) * (d.progress / 100))
                .attr("height", y.bandwidth())
                .attr("fill", d => colorScale(d.phase))
                .attr("rx", 4)
                .append("title")
                .text(d => `${d.name}\nProgress: ${d.progress}%`);
            
            // Progress text
            bars.append("text")
                .attr("x", d => x(d.start + d.duration) + 5)
                .attr("y", d => y(d.name) + y.bandwidth() / 2)
                .attr("dy", "0.35em")
                .text(d => `${d.progress}%`)
                .attr("fill", "#eaeaea")
                .attr("font-size", "10px");
            
            // Phase separators
            const phaseEnds = [35, 77, 105, 126, 147];
            phaseEnds.forEach(end => {
                svg.append("line")
                    .attr("x1", x(end))
                    .attr("y1", margin.top)
                    .attr("x2", x(end))
                    .attr("y2", height - margin.bottom)
                    .attr("stroke", "rgba(255, 255, 255, 0.1)")
                    .attr("stroke-dasharray", "5,5");
            });
        }
        
        function updateDependencyGraph() {
            // Re-render with filter
            d3.select("#dependency-graph").selectAll("*").remove();
            initDependencyGraph();
        }
        
        function updateRiskHeatmap() {
            d3.select("#risk-heatmap").selectAll("*").remove();
            initRiskHeatmap();
        }
        
        function updateGantt() {
            // Filter logic would go here
            d3.select("#gantt-chart").selectAll("*").remove();
            initGanttChart();
        }
        
        // Initialize all visualizations
        document.addEventListener('DOMContentLoaded', function() {
            initDependencyGraph();
            initRiskHeatmap();
            initThroughputSimulator();
            initGanttChart();
        });
        
        // Handle window resize
        window.addEventListener('resize', function() {
            d3.select("#dependency-graph").selectAll("*").remove();
            d3.select("#risk-heatmap").selectAll("*").remove();
            d3.select("#gantt-chart").selectAll("*").remove();
            initDependencyGraph();
            initRiskHeatmap();
            initGanttChart();
        });
    </script>
</body>
</html>
