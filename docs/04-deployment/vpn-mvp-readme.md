# README: VPN-MVP для Грантовой Заявки

**Версия:** v3.3.0-rc1  
**Дата:** 17 февраля 2026

## 1. Описание MVP

Этот документ фиксирует архитектуру и функциональные рамки минимально жизнеспособного продукта (MVP) для демонстрации в рамках грантовой заявки.

**MVP определён как: «VPN-сервис на базе самовосстанавливающейся mesh-сети с Zero Trust доступом и пост-квантовой защитой управляющего контура».**

## 2. Архитектура и Уникальные Торговые Преимущества (УТП)

В отличие от стандартных VPN-решений, x0tta6bl4 предоставляет не просто туннель, а интеллектуальную и устойчивую среду для маршрутизации трафика.

### УТП 1: Пост-квантовая защита управляющего контура

*   **Что это:** Коммуникации между узлами mesh-сети (обмен маршрутной информацией, метриками здоровья, командами на восстановление) защищены гибридным протоколом рукопожатия. Он сочетает классический `ECDHE` с пост-квантовым `ML-KEM-768` (Kyber).
*   **Как это работает:** Любой сбой в пост-квантовой части хендшейка приводит к полному разрыву соединения (`fail-closed`), что предотвращает откат к менее безопасным классическим алгоритмам.
*   **Важное примечание:** Сам VPN-туннель использует стандартный протокол WireGuard с его встроенной криптографией (Noise_IK, ChaCha20-Poly1305). Пост-квантовая защита **не применяется** к самому WireGuard-туннелю, а защищает среду, в которой он функционирует.

### УТП 2: Zero Trust доступ на базе SPIFFE/SPIRE

*   **Что это:** Каждый компонент системы (VPN-гейтвей, узел mesh-сети, сервис мониторинга) получает криптографически-проверяемую "личность" в формате SPIFFE SVID.
*   **Как это работает:** Доступ к VPN-сервису и внутренним компонентам строго регламентирован политиками, которые проверяют эти "личности". Компоненты не доверяют друг другу по умолчанию, даже находясь в одной сети. Это предотвращает горизонтальное распространение атаки в случае компрометации одного из узлов.

### УТП 3: Самовосстанавливающаяся Mesh-сеть

*   **Что это:** VPN-трафик маршрутизируется не по статическому пути, а через децентрализованную mesh-сеть.
*   **Как это работает:** Система в реальном времени отслеживает состояние узлов (задержку, потерю пакетов). При обнаружении сбоя или деградации канала (например, падение одного из relay-узлов), управляющий контур (защищенный PQC) автоматически перестраивает маршрут в течение нескольких секунд (показатель MTTR — Mean Time To Recover). Это обеспечивает высокую отказоустойчивость VPN-соединения.

## 3. Компоненты Demo-Стенда

Минимальный стенд для демонстрации включает:
1.  **Ingress-узел:** Точка входа для VPN-клиента.
2.  **Mesh-relay узел:** Промежуточный узел для маршрутизации трафика.
3.  **Exit-узел:** Узел, через который трафик выходит в интернет.
4.  **SPIRE-сервер:** Центр выдачи криптографических "личностей".
5.  **Vault:** Cистема управления секретами (неактивно в MVP).
6.  **Observability-стек:** Prometheus/Grafana для сбора и визуализации метрик (время хендшейка, MTTR, latency).

## 4. План демонстрации
1.  **Подключение:** VPN-клиент подключается к Ingress-узлу по стандартному протоколу WireGuard.
2.  **Маршрутизация:** Трафик направляется через Relay-узел к Exit-узлу.
3.  **Демонстрация Self-Healing:** Вручную имитируется сбой Relay-узла. Демонстрируется, как система автоматически обнаруживает проблему и перестраивает маршрут, сохраняя доступность VPN. На дашборде Grafana отображается показатель MTTR.
4.  **Демонстрация Zero Trust:** Попытка неавторизованного доступа к внутреннему сервису блокируется, т.к. у атакующего компонента нет валидного SPIFFE SVID.
5.  **Метрики:** Демонстрируются дашборды с метриками производительности: p95 latency туннеля, время PQC-хендшейка управляющего контура.
