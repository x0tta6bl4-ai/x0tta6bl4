# Multi-Node Testing Results

**–î–∞—Ç–∞:** 2026-01-07 00:45 CET  
**–í–µ—Ä—Å–∏—è:** 3.4.0-fixed2  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ

---

## –¢–µ—Å—Ç 1: Pod-to-Pod Communication

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ pods –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –Ω–∞–ø—Ä—è–º—É—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–£–°–ü–ï–®–ù–û**

- Pod 1 (10.244.0.9) ‚Üí Pod 2 (10.244.0.8): ‚úÖ 200 OK
- Pod 2 (10.244.0.8) ‚Üí Pod 1 (10.244.0.9): ‚úÖ 200 OK

**–í—ã–≤–æ–¥:** –ü—Ä—è–º–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É pods —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## –¢–µ—Å—Ç 2: Mesh Peers Discovery

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ nodes –≤–∏–¥—è—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞ —á–µ—Ä–µ–∑ mesh API

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢** (mock mode)

**Pod 1 peers:**
- node-c (port 27349)
- node-b (port 17691)
- node-c (port 15194)
- –ò—Ç–æ–≥–æ: 3+ peers

**Pod 2 peers:**
- node-b (port 14630)
- node-e (port 31290)
- –ò—Ç–æ–≥–æ: 2 peers

**–í—ã–≤–æ–¥:** Mesh peers API —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ. –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ mesh networking –Ω—É–∂–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Yggdrasil –∏–ª–∏ batman-adv.

---

## –¢–µ—Å—Ç 3: Mesh Status

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å mesh —Å–µ—Ç–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢**

–û–±–∞ pods –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ `/mesh/status` endpoint.

---

## –¢–µ—Å—Ç 4: Metrics Collection

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –Ω–∞ –≤—Å–µ—Ö nodes

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–£–°–ü–ï–®–ù–û**

**–°–æ–±—Ä–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- `mesh_mttd_seconds_bucket`: —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- `gnn_recall_score`: 0.96 (96%)
- `mesh_mape_k_packet_drop_rate`: 0.0
- `mesh_mape_k_route_discovery_success_rate`: 0.0
- `mesh_mape_k_total_routes_known`: 0
- `mesh_mape_k_avg_route_hop_count`: 0.0
- `mesh_mape_k_routing_overhead_ratio`: 0.0

**–í—ã–≤–æ–¥:** –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. Routing –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 0, —á—Ç–æ –æ–∂–∏–¥–∞–µ–º–æ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç–∞–¥–∏–∏ (mock mode).

---

## –¢–µ—Å—Ç 5: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 3 nodes

**–¶–µ–ª—å:** –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ—Ç–∏–π pod –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å connectivity

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ö†Ô∏è **–û–®–ò–ë–ö–ê** (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–ü—Ä–æ–±–ª–µ–º–∞:** ServiceMonitor CRD –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ
```
Error: UPGRADE FAILED: no matches for kind "ServiceMonitor" in version "monitoring.coreos.com/v1"
```

**–†–µ—à–µ–Ω–∏–µ:** ServiceMonitor —É–∂–µ –æ—Ç–∫–ª—é—á–µ–Ω –≤ values-staging.yaml (`serviceMonitor.enabled: false`), –Ω–æ Helm –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—ã—Ç–∞–µ—Ç—Å—è –µ–≥–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å. –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - 2 pods —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** 2/2 pods Running, —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:**
```bash
kubectl scale deployment x0tta6bl4-staging -n x0tta6bl4-staging --replicas=3
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ **–£–°–ü–ï–®–ù–û** - –í—Å–µ 3 pods Ready –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–§–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å:**
- Pod 1: `x0tta6bl4-staging-764d4d4968-25q6m` (10.244.0.9) ‚úÖ Ready
- Pod 2: `x0tta6bl4-staging-764d4d4968-7xpr9` (10.244.0.8) ‚úÖ Ready
- Pod 3: `x0tta6bl4-staging-764d4d4968-2pj6t` (10.244.0.10) ‚úÖ Ready

**–í—ã–≤–æ–¥:** –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –í—Å–µ 3 pods –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ.

---

## –ò—Ç–æ–≥–∏

**‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Pod-to-pod communication: ‚úÖ
- Mesh peers API: ‚úÖ (mock mode)
- Mesh status API: ‚úÖ
- Metrics collection: ‚úÖ
- Health endpoints: ‚úÖ

**‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- Mesh networking –∏—Å–ø–æ–ª—å–∑—É–µ—Ç mock –¥–∞–Ω–Ω—ã–µ (–Ω–µ —Ä–µ–∞–ª—å–Ω—ã–π Yggdrasil/batman-adv)
- Routing –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 0 (–æ–∂–∏–¥–∞–µ–º–æ –¥–ª—è mock mode)
- –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ mesh networking –Ω—É–∂–Ω–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å 3 pods –ø–æ—Å–ª–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π mesh networking (Yggdrasil –∏–ª–∏ batman-adv)
3. –ü—Ä–æ–≤–µ—Å—Ç–∏ load test —Å 5-10 —É–∑–ª–∞–º–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å 24+ hour stability test

---

**–í—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** ~30 –º–∏–Ω—É—Ç  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ë–∞–∑–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ**

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Pod-to-pod communication —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ Mesh API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Metrics —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 3 pods —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –í—Å–µ 3 pods Ready –∏ —Ä–∞–±–æ—Ç–∞—é—Ç

**–ì–æ—Ç–æ–≤–æ –∫:** Inter-pod communication test, load testing, stability tests

