# ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Ping –ó–∞–≤–µ—Ä—à–µ–Ω–∞

## üîß –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Xray ‚úÖ

**DNS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞:**
- –ë—ã—Å—Ç—Ä—ã–µ DNS —Å–µ—Ä–≤–µ—Ä—ã: `1.1.1.1`, `8.8.8.8`, `1.0.0.1`
- `queryStrategy: UseIPv4` - –±—ã—Å—Ç—Ä–µ–µ —á–µ–º IPv6
- `disableCache: false` - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

**Routing –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω:**
- `domainStrategy` –∏–∑–º–µ–Ω–µ–Ω —Å `AsIs` –Ω–∞ `IPIfNonMatch` - –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–∑–æ–ª–≤–∏–Ω–≥ –¥–æ–º–µ–Ω–æ–≤
- –£–ø—Ä–æ—â–µ–Ω—ã routing rules - —É–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ:**
- `loglevel: error` - –º–µ–Ω—å—à–µ I/O –æ–ø–µ—Ä–∞—Ü–∏–π = –º–µ–Ω—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞

### 2. –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ ‚úÖ

**TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**
- `tcp_fastopen = 3` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `tcp_slow_start_after_idle = 0` - –Ω–µ –∑–∞–º–µ–¥–ª—è—Ç—å –ø–æ—Å–ª–µ –ø—Ä–æ—Å—Ç–æ—è
- `tcp_tw_reuse = 1` - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `tcp_fin_timeout = 30` - –±—ã—Å—Ç—Ä–µ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- `tcp_keepalive_time = 300` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ keepalive
- `tcp_congestion_control = bbr` - –∞–ª–≥–æ—Ä–∏—Ç–º BBR –¥–ª—è –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏

**–ë—É—Ñ–µ—Ä—ã —É–≤–µ–ª–∏—á–µ–Ω—ã:**
- `rmem_max = 16MB`
- `wmem_max = 16MB`
- `tcp_rmem/wmem` –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã

**–õ–∏–º–∏—Ç—ã:**
- –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã: 65536

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚ö†Ô∏è –í—ã—Å–æ–∫–∏–π ping
- ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω—ã–π DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥
- ‚ö†Ô∏è –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ TCP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚úÖ –°–Ω–∏–∂–µ–Ω–∏–µ ping –Ω–∞ 20-40%
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π DNS (IPIfNonMatch)
- ‚úÖ TCP Fast Open –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
- ‚úÖ BBR congestion control –¥–ª—è –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ TCP –Ω–∞—Å—Ç—Ä–æ–µ–∫
sysctl net.ipv4.tcp_congestion_control
sysctl net.ipv4.tcp_fastopen

# –°—Ç–∞—Ç—É—Å x-ui
systemctl status x-ui

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
ss -tlnp | grep 39829
```

### –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ (v2rayN):

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VPN –∫–ª–∏–µ–Ω—Ç** –ø–æ–ª–Ω–æ—Å—Ç—å—é
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ ping:**
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∏–∂–µ
   - –û–∂–∏–¥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ: 20-40% —Å–Ω–∏–∂–µ–Ω–∏–µ

3. **–¢–µ—Å—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ ping —á–µ—Ä–µ–∑ VPN
   ping 8.8.8.8
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ DNS
   nslookup google.com
   ```

---

## üéØ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

### –ï—Å–ª–∏ ping –≤—Å–µ –µ—â–µ –≤—ã—Å–æ–∫–∏–π:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
   - –°–µ—Ä–≤–µ—Ä: 89.125.1.107 (–ï–≤—Ä–æ–ø–∞)
   - –ï—Å–ª–∏ –≤—ã –¥–∞–ª–µ–∫–æ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ:**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
   ping -c 5 8.8.8.8
   ```

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π SNI —Å–µ—Ä–≤–µ—Ä:**
   - –¢–µ–∫—É—â–∏–π: `google.com:443`
   - –ú–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å: `www.microsoft.com:443` –∏–ª–∏ `www.cloudflare.com:443`

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   uptime
   htop
   ```

---

## üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:**
- Backup: `/root/config_backup_ping_*.json`
- –¢–µ–∫—É—â–∞—è: `/usr/local/x-ui/bin/config.json`

**–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `/etc/sysctl.conf` - TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `/etc/security/limits.conf` - –ª–∏–º–∏—Ç—ã —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤

---

## ‚úÖ –°—Ç–∞—Ç—É—Å:

```
‚úÖ DNS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –¥–æ–±–∞–≤–ª–µ–Ω–∞
‚úÖ domainStrategy: IPIfNonMatch
‚úÖ TCP –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
‚úÖ –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ x-ui: –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
‚úÖ –ü–æ—Ä—Ç 39829: —Ä–∞–±–æ—Ç–∞–µ—Ç
```

**VPN –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏!** üöÄ

