---
# Charter Policy - Development Environment
# Use: local testing, full metrics allowed for debugging

charter:
  version: "1.0.0"
  name: "dev-charter"
  effective_date: "2026-01-11"
  metadata:
    environment: "development"
    status: "active"
    created_by: "platform_team"
    requires_approval: false

whitelisted_metrics:
  network:
    - metric_name: "latency_p50"
      access_level: "public"
      retention_days: 30
    - metric_name: "latency_p95"
      access_level: "public"
      retention_days: 30
    - metric_name: "latency_p99"
      access_level: "public"
      retention_days: 30
    - metric_name: "packet_loss_percent"
      access_level: "public"
      retention_days: 7
    - metric_name: "throughput_mbps"
      access_level: "public"
      retention_days: 30
    - metric_name: "connection_uptime_percent"
      access_level: "public"
      retention_days: 90
  
  infrastructure:
    - metric_name: "cpu_usage_percent"
      access_level: "node_operator"
      retention_days: 30
    - metric_name: "memory_usage_percent"
      access_level: "node_operator"
      retention_days: 30
    - metric_name: "disk_usage_percent"
      access_level: "node_operator"
      retention_days: 30
    - metric_name: "network_interface_status"
      access_level: "node_operator"
      retention_days: 90
  
  service:
    - metric_name: "api_requests_per_second"
      access_level: "public"
      retention_days: 7
    - metric_name: "error_rate_percent"
      access_level: "public"
      retention_days: 7
    - metric_name: "service_version"
      access_level: "public"
      retention_days: 1000

forbidden_metrics:
  - metric_name: "user_location"
    penalty: "CRITICAL"
    reason: "Privacy violation: location tracking prohibited"
  - metric_name: "user_identity"
    penalty: "CRITICAL"
    reason: "Privacy violation: identity disclosure prohibited"
  - metric_name: "browsing_history"
    penalty: "CRITICAL"
    reason: "Privacy violation: browsing data prohibited"
  - metric_name: "device_hardware_id"
    penalty: "HIGH"
    reason: "Device fingerprinting prohibited"
  - metric_name: "user_communication_metadata"
    penalty: "HIGH"
    reason: "Communication patterns leakage prohibited"
  - metric_name: "system_logs_with_user_data"
    penalty: "HIGH"
    reason: "Unredacted logs containing user data prohibited"

access_control:
  read_access:
    - role: "public"
      can_access: ["latency_p50", "latency_p95", "latency_p99", "packet_loss_percent", 
                   "throughput_mbps", "connection_uptime_percent", "api_requests_per_second", 
                   "error_rate_percent", "service_version"]
    - role: "node_operator"
      can_access: ["*"]  # All whitelisted metrics in dev
    - role: "audit_committee_member"
      can_access: ["*"]  # All metrics except user IDs
      requires_approval: false  # Dev environment
    - role: "emergency_responder"
      can_access: ["*"]
      requires_renewal_hours: 2
      auto_revoke_hours: 24

  write_access:
    - role: "node_operator"
      can_write: ["latency_p50", "latency_p95", "latency_p99", "packet_loss_percent", 
                  "throughput_mbps", "connection_uptime_percent", "cpu_usage_percent",
                  "memory_usage_percent", "disk_usage_percent", "network_interface_status"]
    - role: "monitoring_service"
      can_write: ["api_requests_per_second", "error_rate_percent", "service_version"]
      requires_approval: false  # Dev only

violation_policy:
  response:
    - level: 1
      action: "LOG_AND_ALERT"
      alert_destination: ["security_team"]
      block_collection: false
    - level: 2
      action: "BLOCK_AND_SUSPEND"
      suspension_duration_hours: 24
      alert_destination: ["security_team", "dao_council"]
    - level: 3
      action: "NODE_QUARANTINE"
      requires_dao_vote: true
      alert_destination: ["dao_council"]
    - level: 4
      action: "LEGAL_ESCALATION"
      requires_board_approval: true
      alert_destination: ["board", "legal_team"]
  
  audit_trail:
    enabled: true
    immutable: false  # Dev environment
    signing_required: false

whistleblower_policy:
  anonymous_reporting: true
  bounty_enabled: true
  bounty_amount_usd: 1000
  reporting_channels:
    - "email://security@x0tta6bl4.dev"
    - "signal://security-bot"

emergency_override:
  enabled: true  # Allowed in dev
  requires_dao_vote: false
  auto_renewal_hours: 2
  full_audit_trail_required: true
  approval_required_roles: ["emergency_responder"]

enforcement:
  enabled: false  # Dev: monitoring only
  hooks:
    - type: "prometheus_alert"
      alert_name: "charter_violation_detected"
    - type: "webhook"
      url: "http://localhost:8000/api/v1/violations"

success_criteria:
  - "All whitelisted metrics collecting successfully"
  - "Forbidden metrics blocked 100% of attempts"
  - "Audit trail immutable and crypto-signed"
  - "Audit committee can access reports in <1 sec"
  - "Emergency override renewable every 2 hours"
  - "Zero false positives in violation detection"

changelog:
  - version: "1.0.0"
    date: "2026-01-11"
    author: "platform_team"
    changes: "Initial development policy with full metrics enabled"
