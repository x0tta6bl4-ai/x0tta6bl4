# üîß –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –∫—Ä–µ–ø–µ–∂–∞ (Hardware)

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –∫—Ä–µ–ø–µ–∂–∞ (—Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã) –≤ –±–∞–∑–∏—Å-–≤–µ–± –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è:
- –û–ø–∏—Å–∞–Ω–∏—è —Ç–æ—á–µ–∫ –∫—Ä–µ–ø–ª–µ–Ω–∏—è –ø–∞–Ω–µ–ª–µ–π –º–µ–±–µ–ª–∏ (–≤–∏–Ω—Ç—ã, —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫–∏, —à–∫–∞–Ω—Ç—ã, —Ä—É—á–∫–∏, –ø–æ–ª–∫–æ–¥–µ—Ä–∂–∞—Ç–µ–ª–∏)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏—Å–∞–¥–∫–∏ (CNC drilling)
- –§–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∂–µ—Å—Ç–∫–æ—Å—Ç–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
- –≠–∫—Å–ø–æ—Ä—Ç–∞ –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–µ—Ä—Ç–µ–∂–∏

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Hardware –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (types.ts)
```typescript
export interface Hardware {
  id: string;
  type: 'handle' | 'hinge' | 'screw' | 'minifix' | 'dowel' | 'shelf_support';
  name: string;
  x: number;        // –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø–∞–Ω–µ–ª–∏
  y: number;        // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ª–∏—Ü–∞ (—Ñ–∞—Å–∞–¥–∞) –ø–∞–Ω–µ–ª–∏
}
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Panel
```typescript
export interface Panel {
  // ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
  hardware: Hardware[];  // –ú–∞—Å—Å–∏–≤ –∫—Ä–µ–ø–µ–∂–∞ –Ω–∞ —ç—Ç–æ–π –¥–µ—Ç–∞–ª–∏
}
```

### –¢–∏–ø—ã –∫—Ä–µ–ø–µ–∂–∞

| –¢–∏–ø | –ù–∞–∑–≤–∞–Ω–∏–µ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã |
|-----|----------|-----------|-----------|
| `screw` | –ö–æ–Ω—Ñ–∏—Ä–º–∞—Ç/–í–∏–Ω—Ç | –°—Ç—ã–∫–∏ –ø–∞–Ω–µ–ª–µ–π (–¢-–æ–±—Ä–∞–∑–Ω—ã–µ, —É–≥–ª–æ–≤—ã–µ) | –î5 –º–º, –¥–ª–∏–Ω–∞ 50 –º–º (—Å—Ç–∞–Ω–¥–∞—Ä—Ç) |
| `minifix` | –≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫ | –°—ä–µ–º–Ω–æ–µ –∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞—Å–∞–¥–æ–≤ | –î15 –º–º, –≥–ª—É–±–∏–Ω–∞ 34 –º–º |
| `dowel` | –®–∫–∞–Ω—Ç | –£—Å–∏–ª–µ–Ω–∏–µ —Å—Ç—ã–∫–æ–≤, –Ω–µ—Å—É—â–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ | –î8 –º–º, –≥–ª—É–±–∏–Ω–∞ 40 –º–º |
| `handle` | –†—É—á–∫–∞ | –ù–∞ —Ñ–∞—Å–∞–¥–∞—Ö –¥–≤–µ—Ä–µ–π | –ü–æ–∑–∏—Ü–∏—è –ø–æ —Ü–µ–Ω—Ç—Ä—É —à–∏—Ä–∏–Ω—ã |
| `hinge` | –ü–µ—Ç–ª—è | –®–∞—Ä–Ω–∏—Ä—ã –¥–≤–µ—Ä–µ–π | (–Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) |
| `shelf_support` | –ü–æ–ª–∫–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å | –û–ø–æ—Ä–∞ –¥–ª—è –ø–æ–ª–æ–∫ | –î5 –º–º |

---

## üéõÔ∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ [EditorPanel.tsx](EditorPanel.tsx#L750-L830).

### –†–µ–∂–∏–º: "–ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞"

#### 1. **–ê–≤—Ç–æ-–∫—Ä–µ–ø–µ–∂ (Auto-Place Confrimats)**
```typescript
const autoPlaceConfirmat = () => {
  // –ê–ª–≥–æ—Ä–∏—Ç–º:
  // 1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—ã–∫–∏ –º–µ–∂–¥—É –≤–∏–¥–∏–º—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏
  // 2. –ù–∞—Ö–æ–¥–∏—Ç —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞ (X, Y, Z –ø–ª–æ—Å–∫–æ—Å—Ç–∏)
  // 3. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å—Ç—ã–∫–∞: –¢-–æ–±—Ä–∞–∑–Ω—ã–π –∏–ª–∏ —É–≥–ª–æ–≤–æ–π
  // 4. –í—ã—á–∏—Å–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤–∏–Ω—Ç–æ–≤ –Ω–∞ —Ñ–∞—Å–∞–¥–Ω–æ–π –ø–∞–Ω–µ–ª–∏
  // 5. –†–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏—Ä–º–∞—Ç—ã —Å –æ—Ç—Å—Ç—É–ø–æ–º 50–º–º –æ—Ç –∫—Ä–∞–µ–≤
}
```

**–õ–æ–≥–∏–∫–∞ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—ã–∫–æ–≤:**

```
–ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è 3 –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞:
‚îú‚îÄ X-–ø–ª–æ—Å–∫–æ—Å—Ç—å: –ø–∞–Ω–µ–ª–∏ –∫–∞—Å–∞—é—Ç—Å—è –ø–æ –Ω–æ—Ä–º–∞–ª–∏ X
‚îÇ  ‚îî‚îÄ –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ Y –∏–ª–∏ Z –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—â–∏–Ω–µ –ø–∞–Ω–µ–ª–∏ (~16–º–º)
‚îú‚îÄ Y-–ø–ª–æ—Å–∫–æ—Å—Ç—å: –ø–∞–Ω–µ–ª–∏ –∫–∞—Å–∞—é—Ç—Å—è –ø–æ –Ω–æ—Ä–º–∞–ª–∏ Y
‚îÇ  ‚îî‚îÄ –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ X –∏–ª–∏ Z –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—â–∏–Ω–µ –ø–∞–Ω–µ–ª–∏
‚îî‚îÄ Z-–ø–ª–æ—Å–∫–æ—Å—Ç—å: –ø–∞–Ω–µ–ª–∏ –∫–∞—Å–∞—é—Ç—Å—è –ø–æ –Ω–æ—Ä–º–∞–ª–∏ Z
   ‚îî‚îÄ –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∏–ø–æ–º –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è (X –∏–ª–∏ Y)
```

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∏–∫–∏:**
```typescript
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–∞–Ω–µ–ª–∏ –≤ —Å—Ç—ã–∫–µ
if (isThick(lenY, B.p)) { 
    facePanel = A.p;      // –õ–∏—Ü–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (–≥–¥–µ —Å–≤–µ—Ä–ª–∏–º)
    edgePanel = B.p;      // –ì—Ä–∞–Ω–∏—á–Ω–∞—è –ø–∞–Ω–µ–ª—å (–∫—É–¥–∞ –≤–∫—Ä—É—á–∏–≤–∞–µ–º)
    jointAxis = 'z';      // –û—Å—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –≤–∏–Ω—Ç–æ–≤
}
```

**–†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤–∏–Ω—Ç–æ–≤ –≤–¥–æ–ª—å –æ—Å–∏ —Å—Ç—ã–∫–∞:**
```
–ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Å—Ç—ã–∫–∞ > 600–º–º:
  ‚îî‚îÄ 3 –≤–∏–Ω—Ç–∞: –Ω–∞—á–∞–ª–æ + —Ü–µ–Ω—Ç—Ä + –∫–æ–Ω–µ—Ü
     
–ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Å—Ç—ã–∫–∞ <= 600–º–º:
  ‚îî‚îÄ 2 –≤–∏–Ω—Ç–∞: –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü
     
–û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è: 50–º–º
```

**–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∏—Ä–æ–≤—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ:**
```typescript
const mapWorldToLocal = (panel: Panel, wx, wy, wz) => {
  const dx = wx - panel.x;
  const dy = wy - panel.y;
  const dz = wz - panel.z;

  if (panel.rotation === Axis.X) {
      // –ë–æ–∫ (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è): Local X = Depth, Local Y = Height
      return { x: dz, y: dy };
  }
  if (panel.rotation === Axis.Y) {
      // –ü–æ–ª–∫–∞ (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è): Local X = Width, Local Y = Depth
      return { x: dx, y: dz };
  }
  // –§–∞—Å–∞–¥ (—Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–∞—è): Local X = Width, Local Y = Height
  return { x: dx, y: dy };
};
```

#### 2. **–†—É—á–Ω–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ (Smart Fasteners)**
```typescript
const handleSmartFasteners = (type: 'screw' | 'minifix' | 'dowel') => {
  // –†–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Ç –∏–∑ 4 –∫—Ä–µ–ø–µ–∂–µ–π –ø–æ —É–≥–ª–∞–º
  // + –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ 2 –≤ —Ü–µ–Ω—Ç—Ä–µ (–µ—Å–ª–∏ panel.height > 600–º–º)
}
```

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã:**
| –¢–∏–ø | –û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è X | –û—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è Y |
|-----|------------------|-----------------|
| –ö–æ–Ω—Ñ–∏—Ä–º–∞—Ç (screw) | 9 –º–º | `hwOffset` (–¥–µ—Ñ–æ–ª—Ç 50–º–º) |
| –≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫ (minifix) | 34 –º–º | `hwOffset` |
| –®–∫–∞–Ω—Ç (dowel) | 8 –º–º | `hwOffset` |

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  (9,50)      (9,550)    ‚îÇ  –ö–æ–Ω—Ñ–∏—Ä–º–∞—Ç—ã
‚îÇ                         ‚îÇ  –ï—Å–ª–∏ hwUseCenter=true
‚îÇ  (9,250)    (9,400)     ‚îÇ  + —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ
‚îÇ                         ‚îÇ
‚îÇ  (791,50)   (791,550)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  Width: 800–º–º
  Height: 600–º–º
```

#### 3. **–û–¥–∏–Ω–æ—á–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã**
- **–†—É—á–∫–∞**: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ —à–∏—Ä–∏–Ω—ã (x: width/2 - 64, y: 50)
- **–í–∏–Ω—Ç**: –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ç–æ—á–∫—É (50, 50)
- **–ú–∏–Ω–∏—Ñ–∏–∫—Å**, **–®–∫–∞–Ω—Ç**, **–ü–æ–ª–∫–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å**: –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ —Ç–æ—á–∫—É (50, 50)

---

## üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ 3D (Scene3D.tsx)

### –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫—Ä–µ–ø–µ–∂–∞
```typescript
// –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ hwGroup (hardware group)
if (hwGroup) {
    hwGroup.clear();
    if (visualStyle !== 'wireframe' && showHoles) {
        panel.hardware.forEach(hw => {
            // –ö–∞–∂–¥—ã–π –∫—Ä–µ–ø–µ–∂ = –º–∞–ª–µ–Ω—å–∫–∏–π —Ü–∏–ª–∏–Ω–¥—Ä
            const geo = new THREE.CylinderGeometry(radius=2, top=2, height=4);
            const mat = new THREE.MeshStandardMaterial({color: 0x888888});
            const m = new THREE.Mesh(geo, mat);
            
            // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –ø–∞–Ω–µ–ª–∏
            if(panel.rotation === Axis.X) 
                m.position.set(dimX, hw.y, hw.x);    // –ë–æ–∫–æ–≤–∏–Ω–∞
            else if(panel.rotation === Axis.Y) 
                m.position.set(hw.x, dimY, hw.y);    // –ü–æ–ª–∫–∞
            else 
                m.position.set(hw.x, hw.y, dimZ);    // –§–∞—Å–∞–¥
            
            hwGroup.add(m);
        });
    }
}
```

**–û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ:**
- **–°–µ—Ä—ã–µ —Ü–∏–ª–∏–Ω–¥—Ä—ã** √ò2–º–º = —Ç–æ—á–∫–∏ –∫—Ä–µ–ø–µ–∂–∞
- **–í–∏–¥–∏–º—ã –ø—Ä–∏**: `visualStyle !== 'wireframe' && showHoles`
- **–°–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏**: wireframe —Ä–µ–∂–∏–º–µ –∏–ª–∏ showHoles=false

---

## üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ —á–µ—Ä—Ç–µ–∂–∏ (DrawingView.tsx)

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–≤–æ–¥–∏—Ç —Ç–∞–±–ª–∏—Ü—É "–ü—Ä–∏—Å–∞–¥–∫–∞" –¥–ª—è –∫–∞–∂–¥–æ–π –ø–∞–Ω–µ–ª–∏:

```
‚Ññ | –¢–∏–ø / –î–∏–∞–º–µ—Ç—Ä       | X (–ë–∞–∑–∞) | Y (–ë–∞–∑–∞)
-----------
1 | –í–∏–Ω—Ç D5 —Å–∫–≤.        | 50       | 50
2 | –≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫ D15      | 450      | 100
3 | –®–∫–∞–Ω—Ç D8 –≥–ª.        | 50       | 450
```

**–õ–µ–≥–µ–Ω–¥–∞:**
- `D5 —Å–∫–≤.` = –≤–∏–Ω—Ç —Å–∫–≤–æ–∑–Ω–æ–π –¥–∏–∞–º–µ—Ç—Ä 5–º–º
- `D15` = —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫ –¥–∏–∞–º–µ—Ç—Ä 15–º–º
- `D8 –≥–ª.` = —à–∫–∞–Ω—Ç –¥–∏–∞–º–µ—Ç—Ä 8–º–º –≥–ª—É—Ö–æ–π

---

## üöó –§–∏–∑–∏—á–µ—Å–∫–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –ø–∞–Ω–µ–ª–µ–π —á–µ—Ä–µ–∑ –∫—Ä–µ–ø–µ–∂
```typescript
const checkSupport = (panelId: string) => {
  // ... –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –û–ø–æ—Ä–∞ –Ω–∞ —á—Ç–æ-—Ç–æ –Ω–∏–∂–µ (–≥—Ä–∞–≤–∏—Ç–∞—Ü–∏—è)
  
  // ... –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ö–†–ï–ü–ï–ñ
  if (panel.hardware.length > 0) {
      // –ï—Å–ª–∏ –ø–∞–Ω–µ–ª—å –∏–º–µ–µ—Ç –∫—Ä–µ–ø–µ–∂ –ò –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å –¥—Ä—É–≥–æ–π –ø–∞–Ω–µ–ª—å—é
      if (box.intersectsBox(otherBox)) {
          if (checkSupport(otherId)) {
              isFastenedToStable = true;  // ‚Üí –ü–∞–Ω–µ–ª—å —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π
          }
      }
  }
  
  return isRestingOnStable || isFastenedToStable;
};
```

**–õ–æ–≥–∏–∫–∞:**
1. –ù–∞–ª–∏—á–∏–µ –∫—Ä–µ–ø–µ–∂–∞ (`hardware.length > 0`) –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∞–Ω–µ–ª–∏ "–ø—Ä–∏–ª–∏–ø–Ω—É—Ç—å" –∫ –¥—Ä—É–≥–æ–π –ø–∞–Ω–µ–ª–∏
2. –ë–µ–∑ –∫—Ä–µ–ø–µ–∂–∞ - –ø–∞–Ω–µ–ª—å –ø–∞–¥–∞–µ—Ç –ø–æ–¥ –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–µ–π
3. –≠—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å "–∞–Ω—Ç–∏-–≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏" —á–µ—Ä–µ–∑ –Ω–∞–ª–∏—á–∏–µ –∫—Ä–µ–ø–µ–∂–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–ø–µ–∂–∞ –ø—Ä–∏ —Ñ–∏–∑–∏–∫–µ
```typescript
const applyAutoHardware = (targetId: string) => {
  // –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø–∞–Ω–µ–ª–µ–π
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤–∏–Ω—Ç, —á—Ç–æ–±—ã "–∑–∞–ø–µ—á—å" –ø–æ–ª–æ–∂–µ–Ω–∏–µ
  
  if (tBox.intersectsBox(oBox)) {
      if (targetPanel.hardware.length === 0) {
          const newHw: Hardware = {
              id: `auto-fix-${Date.now()}`,
              type: 'screw',
              name: '–í–∏–Ω—Ç (–ê–≤—Ç–æ)',
              x: 50,
              y: 50
          };
          // –î–æ–±–∞–≤–∏—Ç—å –≤ hardware –º–∞—Å—Å–∏–≤
      }
  }
};
```

---

## üìù –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–µ–ø–µ–∂–∞
```typescript
const addHardware = (type: Hardware['type']) => {
    const newHw: Hardware = {
        id: `hw-${Date.now()}`,
        type,
        name: getNameByType(type),
        x: type === 'handle' ? panel.width / 2 - 64 : 50,
        y: 50
    };
    onUpdatePanel(panelId, { 
        hardware: [...panel.hardware, newHw] 
    });
};
```

### –£–¥–∞–ª–µ–Ω–∏–µ –∫—Ä–µ–ø–µ–∂–∞
```typescript
const removeHardware = (hwId: string) => {
    onUpdatePanel(panelId, {
        hardware: panel.hardware.filter(h => h.id !== hwId)
    });
};
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
```typescript
<input 
    type="number" 
    value={hw.x} 
    onChange={(e) => {
        const u = [...panel.hardware];
        u[idx].x = Number(e.target.value);
        onUpdatePanel(panelId, { hardware: u });
    }} 
/>
```

---

## üîç –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
1. **5 —Ç–∏–ø–æ–≤ –∫—Ä–µ–ø–µ–∂–∞** (–≤–∏–Ω—Ç, —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫, —à–∫–∞–Ω—Ç, —Ä—É—á–∫–∞, –ø–æ–ª–∫–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å)
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—ã–∫–æ–≤** –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏
3. **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç** –º–∏—Ä ‚Üî –ª–æ–∫–∞–ª—å–Ω—ã–µ (—É—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–æ—Ç–∞—Ü–∏—é –ø–∞–Ω–µ–ª–∏)
4. **3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** —Å–µ—Ä—ã–º–∏ —Ü–∏–ª–∏–Ω–¥—Ä–∞–º–∏
5. **–¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∏—Å–∞–¥–∫–∏** –≤ —á–µ—Ä—Ç–µ–∂–∞—Ö
6. **–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π** (Undo/Redo)
7. **–§–∏–∑–∏—á–µ—Å–∫–∞—è –∂–µ—Å—Ç–∫–æ—Å—Ç—å** —á–µ—Ä–µ–∑ –Ω–∞–ª–∏—á–∏–µ –∫—Ä–µ–ø–µ–∂–∞

### ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
1. **–ö—Ä–µ–ø–µ–∂ = 2D –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (x, y)** –Ω–∞ —Ñ–∞—Å–∞–¥–µ –ø–∞–Ω–µ–ª–∏
   - –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≥–ª—É–±–∏–Ω–∞ (z –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –∫—Ä–µ–ø–µ–∂–∞ –≤ 3D)
   - –£–ø—Ä–æ—â–µ–Ω–Ω–æ –¥–ª—è –º–µ–±–µ–ª–∏
2. **–í–∫—É—Å–æ–≤–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–º** –≤ —Ñ–∏–∑–∏–∫–µ (–Ω–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –º–æ–¥–µ–ª—å)
   - –¢–æ–ª—å–∫–æ –Ω–∞–ª–∏—á–∏–µ –∫—Ä–µ–ø–µ–∂–∞ ‚Üí —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
   - –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–∏–ø –∫—Ä–µ–ø–µ–∂–∞ (–≤–∏–Ω—Ç —Å–ª–∞–±–µ–µ —à–∫–∞–Ω—Ç–∞)
3. **–ù–µ—Ç 3D –º–æ–¥–µ–ª–µ–π –∫—Ä–µ–ø–µ–∂–∞**
   - –¢–æ–ª—å–∫–æ —Å–µ—Ä—ã–µ —Ü–∏–ª–∏–Ω–¥—Ä—ã √ò2–º–º
   - –ù–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∏–ø–∞ (–≤–∏–Ω—Ç vs —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫ –≤–∏–∑—É–∞–ª—å–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã)
4. **–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ–ª—å–∫–æ x,y**
   - –ì–ª—É–±–∏–Ω—É z –±–µ—Ä—É—Ç –∏–∑ —Ç–æ–ª—â–∏–Ω—ã –ø–∞–Ω–µ–ª–∏ (panel.depth)

---

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–æ–∑–¥–∞–Ω–∏–µ —à–∫–∞—Ñ–∞ –∞–≤—Ç–æ–º–∞—Ç–æ–º
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç 6 –ø–∞–Ω–µ–ª–µ–π (–±–æ–∫–∏, –ø–æ–ª–∫–∞, –∫—Ä—ã—à–∫–∞, –¥–Ω–æ, —Å–ø–∏–Ω–∞, —Ñ–∞—Å–∞–¥)
2. –ù–∞–∂–∏–º–∞–µ—Ç "–ê–≤—Ç–æ-–∫—Ä–µ–ø–µ–∂ (–ö–æ–Ω—Ñ–∏—Ä–º–∞—Ç—ã)"
3. –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Å—Ç—ã–∫–∏
4. –†–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏—Ä–º–∞—Ç—ã 7x50 –≤ —Ç–æ—á–∫–∞—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
5. –ü–∞–Ω–µ–ª–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∂–µ—Å—Ç–∫–∏–º–∏ (—Ñ–∏–∑–∏–∫–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫—Ä–µ–ø–µ–∂)
6. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤–µ–¥–æ–º–æ—Å—Ç—å –ø—Ä–∏—Å–∞–¥–∫–∏ –¥–ª—è –ß–ü–£
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†—É—á–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```
1. –í—ã–±—Ä–∞—Ç—å –ø–∞–Ω–µ–ª—å (—Ñ–∞—Å–∞–¥)
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –≤–∫–ª–∞–¥–∫—É "–§—É—Ä–Ω."
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–†—É—á–∫–∞"
4. –°–∏—Å—Ç–µ–º–∞ –¥–æ–±–∞–≤–∏—Ç —Ä—É—á–∫—É –≤ —Ü–µ–Ω—Ç—Ä –ø–∞–Ω–µ–ª–∏
5. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã x, y –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫ –¥–ª—è —Ä–∞–∑–±–æ—Ä–Ω–æ–π –º–µ–±–µ–ª–∏
```
1. –í—ã–±—Ä–∞—Ç—å —Ñ–∞—Å–∞–¥ –¥–≤–µ—Ä–∏
2. –í–≤–µ—Å—Ç–∏ "–û—Ç—Å—Ç—É–ø: 34"
3. –í–∫–ª—é—á–∏—Ç—å "+–¶–µ–Ω—Ç—Ä"
4. –ù–∞–∂–∞—Ç—å "–≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫–∏ (4—à—Ç)"
5. –ü–æ—è–≤—è—Ç—Å—è 6 —ç–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫–æ–≤ (4 —É–≥–ª–∞ + 2 —Ü–µ–Ω—Ç—Ä–∞)
6. –ö–∞–∂–¥—ã–π –º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
EditorPanel.tsx          ‚Üê –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + UI –∫–Ω–æ–ø–æ–∫
    ‚Üì
    ‚îú‚îÄ addHardware()
    ‚îú‚îÄ removeHardware()
    ‚îú‚îÄ autoPlaceConfirmat()
    ‚îî‚îÄ handleSmartFasteners()

Scene3D.tsx              ‚Üê 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    ‚îú‚îÄ hwGroup.clear()
    ‚îú‚îÄ –†–µ–Ω–¥–µ—Ä —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤
    ‚îî‚îÄ applyAutoHardware() [—Ñ–∏–∑–∏–∫–∞]

DrawingView.tsx          ‚Üê –≠–∫—Å–ø–æ—Ä—Ç —á–µ—Ä—Ç–µ–∂–µ–π
    ‚îî‚îÄ –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∏—Å–∞–¥–∫–∏

CutList.tsx              ‚Üê –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∫–æ–ª-–≤–æ –Ω—É–∂–Ω–æ–≥–æ –∫—Ä–µ–ø–µ–∂–∞)

App.tsx                  ‚Üê –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π + history
    ‚îî‚îÄ onUpdatePanel() ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ hardware[]
```

---

## üìö –¢–µ—Ö–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã:**
- –ö–æ–Ω—Ñ–∏—Ä–º–∞—Ç: –ì–û–°–¢ 11540 (–î 7√ó50)
- –≠–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫: ISO 6851
- –ü–æ–ª–∫–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å: DIN 6694
- –®–∫–∞–Ω—Ç: DIN 5671

**–û—Ç—Å—Ç—É–ø—ã –≤ –º–µ–±–µ–ª–∏:**
- –û—Ç –∫—Ä–∞—è –ø–∞–Ω–µ–ª–∏: 9-34 –º–º (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞)
- –û—Ç —Å—Ç—ã–∫–∞: –º–∏–Ω–∏–º—É–º 50–º–º
- –ù–∞ –≥–ª—É–±–æ–∫–∏—Ö –ø–∞–Ω–µ–ª—è—Ö (>600–º–º): —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä–µ–ø–µ–∂

---

## üí° –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è

1. **3D –º–æ–¥–µ–ª–∏ –∫—Ä–µ–ø–µ–∂–∞** - –≤–º–µ—Å—Ç–æ —Ü–∏–ª–∏–Ω–¥—Ä–æ–≤ —Ä–µ–Ω–¥–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ 3D –º–æ–¥–µ–ª–∏
2. **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞—Å—Ö–æ–¥–æ–≤** - –ø–æ–¥—Å—á–µ—Ç –Ω—É–∂–Ω–æ–≥–æ –∫–æ–ª-–≤–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∫—Ä–µ–ø–µ–∂–∞
3. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Ñ–∏–∑–∏–∫–∞** - —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∏–ø –∫—Ä–µ–ø–µ–∂–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ –∂–µ—Å—Ç–∫–æ—Å—Ç–∏
4. **BOM –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ —Ç–∏–ø–∞–º –∫—Ä–µ–ø–µ–∂–∞
5. **–≠–∫—Å–ø–æ—Ä—Ç –≤ DXF** - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–∏—Å–∞–¥–∫–∏ –¥–ª—è –ß–ü–£ —Å—Ç–∞–Ω–∫–∞
6. **–®–∞–±–ª–æ–Ω—ã –∫—Ä–µ–ø–µ–∂–∞** - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
7. **–ü—Ä–∞–≤–∏–ª–∞ DFM** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è, –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è –∏ —Ç.–¥.)
