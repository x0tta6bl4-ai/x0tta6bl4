# –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v2.0 –¥–ª—è ¬´–ë–∞–∑–∏—Å-–í–µ–±¬ª

## üéØ –û–±–∑–æ—Ä

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º **5-—Å–ª–æ–π–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—Ä–ø—É—Å–æ–≤ —à–∫–∞—Ñ–æ–≤. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö **–ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ **–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ CAM —Å–∏—Å—Ç–µ–º–∞–º–∏.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

### 1Ô∏è‚É£ DSL Layer (Parameter Input)
**–¶–µ–ª—å:** –û–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –±–µ–∑ —Ä–∞—Å—á—ë—Ç–æ–≤
- –õ–µ–≥–∫–∏–π –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—é (Mm –¥–ª—è –º–º, EdgeType –¥–ª—è –∫—Ä–æ–º–∫–∏)
- –í–∫–ª—é—á–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–º–∞–∫—Å. –ø—Ä–æ–≥–∏–±, –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∑–∞–ø–∞—Å–∞)

```typescript
interface CabinetDSL {
  envelope: { width: Mm; height: Mm; depth: Mm };
  material: { board: MaterialSpec; back?: MaterialSpec; edge: EdgeSpec };
  doors?: DoorSpec;
  shelves?: ShelfSpec;
  constraints?: {
    maxDeflection: Mm;
    minSafetyFactor: number;
    manufacturingTolerance: Mm;
    jointType: JointType;
  };
}
```

### 2Ô∏è‚É£ Rules Engine Layer
**–¶–µ–ª—å:** –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞–Ω–µ–ª–µ–π
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–∂–¥–æ–π –ø–∞–Ω–µ–ª–∏ –∏–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –í–∫–ª—é—á–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ä–∞—Å—á—ë—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

```typescript
interface ConstructionRule {
  id: string;
  name: string;
  appliesTo: PanelType;
  requires: PanelType[];
  calculate: (solved: Map<string, SolvedPanel>, params: CabinetDSL) => Partial<SolvedPanel>;
  validate: (panel: SolvedPanel) => ValidationError[];
}
```

### 3Ô∏è‚É£ Solved Model Layer
**–¶–µ–ª—å:** –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏–π ‚Äî –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã
- –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

```typescript
interface SolvedPanel {
  id: string;
  role: PanelType;
  position: Vec3;
  size: Vec3;
  orientation: AxisType;
  edges: EdgeTreatment[];
  holes: DrillHole[];
  operationSequence: string[];
  metadata: {
    material: MaterialSpec;
    weight: number;
    costMaterial: number;
    machiningTime: number;
  };
}
```

### 4Ô∏è‚É£ Manufacturing Layer
**–¶–µ–ª—å:** –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ—É—Ä–Ω–∏—Ç—É—Ä—ã –ø–æ –ì–û–°–¢ –∏ –¢–£
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–∫—Ä–æ—è –ª–∏—Å—Ç–æ–≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
- –†–∞—Å—á—ë—Ç –ö–ò–ú –∏ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

```typescript
interface CuttingPlan {
  sheets: SheetCutting[];
  metrics: {
    totalSheets: number;
    KIM: number;
    totalWaste: number;
    estimatedCuttingTime: number;
  };
}
```

### 5Ô∏è‚É£ Views Layer
**–¶–µ–ª—å:** –≠–∫—Å–ø–æ—Ä—Ç –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- DXF –¥–ª—è –ß–ü–£ —Å—Ç–∞–Ω–∫–æ–≤
- JSON –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
- PDF –¥–ª—è —á–µ—Ä—Ç–µ–∂–µ–π
- G-code –¥–ª—è —Å—Ç–∞–Ω–∫–æ–≤

## üöÄ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```typescript
import { ProductionCabinetBuilder } from './services/ProductionCabinetBuilder';
import { CabinetDSL } from './types/ProductionArchitecture';

const mm = (value: number) => value as any;

const cabinetDSL: CabinetDSL = {
  envelope: { width: mm(1200), height: mm(2000), depth: mm(500) },
  structure: { scheme: 'box' },
  material: {
    board: { type: 'ldsp', thickness: mm(16), density: 650, pricePerM2: 1500 },
    back: { type: 'hdf', thickness: mm(3), density: 900, pricePerM2: 300 },
    edge: { front: '2mm_abs', left: '1mm_pvc', right: '1mm_pvc', back: 'none', top: '1mm_pvc', bottom: '1mm_pvc' }
  },
  doors: { count: 2, type: 'swing', gap: mm(3) },
  shelves: { count: 4, supports: 'dowel_5x30', position: 'auto' },
  constraints: { maxDeflection: mm(12), minSafetyFactor: 1.5, manufacturingTolerance: mm(0.1), jointType: 'confirmat' }
};

const builder = new ProductionCabinetBuilder();
const model = await builder.build(cabinetDSL);

console.log('‚úÖ –ú–æ–¥–µ–ª—å —Å–æ–±—Ä–∞–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');
console.log(`   ‚Ä¢ –ü–∞–Ω–µ–ª–µ–π: ${model.solved.size}`);
console.log(`   ‚Ä¢ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–π: ${model.joints.length}`);
console.log(`   ‚Ä¢ –ö–ò–ú: ${model.cutting.metrics.KIM.toFixed(1)}%`);
console.log(`   ‚Ä¢ –í—Ä–µ–º—è –Ω–∞ —Ä–µ–∑–∫—É: ${model.cutting.metrics.estimatedCuttingTime.toFixed(1)} –º–∏–Ω`);

// –≠–∫—Å–ø–æ—Ä—Ç
const dxf = model.export.toDXF();
const json = model.export.toJSON();
```

## üìä –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- –ö–∞–∂–¥–∞—è –ø–∞–Ω–µ–ª—å ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞
- –û—Ç–≤–µ—Ä—Å—Ç–∏—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è —Å —É—á—ë—Ç–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- –ó–∞–∑–æ—Ä—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ì–û–°–¢–∞–º

### 2. –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DIN, –ì–û–°–¢, ISO, RAL
- –°–∏—Å—Ç–µ–º–∞ 32mm —Å –¥–æ–ø—É—Å–∫–∞–º–∏
- –§—É—Ä–Ω–∏—Ç—É—Ä–∞ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º BLUM, Hettich, Grass

### 3. –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–∫—Ä–æ—è —Å –ö–ò–ú > 85%
- –†–∞—Å—á—ë—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏
- –ê–Ω–∞–ª–∏–∑ ROI

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- DXF –¥–ª—è –ß–ü–£
- QR-–∫–æ–¥—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ERP –∏ MES —Å–∏—Å—Ç–µ–º

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `types/ProductionArchitecture.ts` | –°–ª–æ–π–Ω—ã–µ —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã |
| `services/ProductionCabinetBuilder.ts` | –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç—Ä–æ–∏—Ç–µ–ª—å —à–∫–∞—Ñ–∞ |
| `examples/productionCabinetExample.ts` | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã |
| `cad/index.ts` | –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç –º–æ–¥—É–ª–µ–π |

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞

–ù–∞—à —Ç–µ—Å—Ç–æ–≤—ã–π —à–∫–∞—Ñ (1200√ó2000√ó500 –º–º) –ø–æ–∫–∞–∑–∞–ª —Å–ª–µ–¥—É—é—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **–ü–∞–Ω–µ–ª–µ–π:** 6 —à—Ç
- **–°–æ–µ–¥–∏–Ω–µ–Ω–∏–π:** 8 —à—Ç
- **–õ–∏—Å–æ–≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞:** 1 —à—Ç
- **–ö–ò–ú:** 34.3%
- **–û—Ç—Ö–æ–¥—ã:** 3402844 –º–º¬≤
- **–í—Ä–µ–º—è –Ω–∞ —Ä–µ–∑–∫—É:** 30 –º–∏–Ω—É—Ç

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ö–ò–ú —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞—Å–∫—Ä–æ—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Ä–∞—â–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.

## üìà –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

1. –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞—Å–∫—Ä–æ—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Ä–∞—â–µ–Ω–∏—è
2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±–æ–ª—å—à–µ —Ç–∏–ø–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã (STEP, IGES)
5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è 3D –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ Solved Model

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –ª–∏–Ω–∏—è–º–∏! üè≠
