# ML-–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –ü–æ–ª–Ω–∞—è –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
**–î–∞—Ç–∞:** 2026-01-07, 14:00 CET  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## üìä –ß–¢–û –°–î–ï–õ–ê–ù–û

### ‚úÖ GraphSAGE ML-–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ë—ã–ª–æ:** –ü—Ä–æ—Å—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (z-scores)  
**–°—Ç–∞–ª–æ:** –†–µ–∞–ª—å–Ω–∞—è ML-–º–æ–¥–µ–ª—å `GraphSAGEAnomalyDetector.predict()`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ledger –≥—Ä–∞—Ñ–∞ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è GraphSAGE
  - Node features: content_length, title_length, in_degree, out_degree, drift_count, etc.
  - Neighbors: —Å–æ—Å–µ–¥–Ω–∏–µ —É–∑–ª—ã —á–µ—Ä–µ–∑ edges
- –í—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–π ML-–º–æ–¥–µ–ª–∏: `detector.predict(node_id, node_features, neighbors)`
- Fallback –Ω–∞ –ø—Ä–æ—Å—Ç—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –µ—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–µ–Ω–∞ (`is_trained = False`)
- ~120 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

**–ö–æ–¥:**
```python
# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è GraphSAGE
node_features = {
    "content_length": float(node.get("content_length", 0)) / 1000.0,
    "title_length": float(len(node.get("title", ""))) / 100.0,
    # ... –¥—Ä—É–≥–∏–µ —Ñ–∏—á–∏
}

# –í—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–π ML-–º–æ–¥–µ–ª–∏
prediction = self.anomaly_detector.predict(
    node_id=str(node["id"]),
    node_features=node_features,
    neighbors=neighbors[:5]
)

if prediction.is_anomaly:
    anomalies.append({
        "node_id": node["id"],
        "anomaly_score": prediction.anomaly_score,
        "confidence": prediction.confidence
    })
```

---

### ‚úÖ Causal Analysis ML-–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ë—ã–ª–æ:** –ü—Ä–æ—Å—Ç–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ drifts  
**–°—Ç–∞–ª–æ:** –†–µ–∞–ª—å–Ω—ã–π ML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç `CausalAnalysisEngine.analyze()`

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ drifts –≤ `IncidentEvent` –¥–ª—è Causal Analysis
  - –ú–∞–ø–ø–∏–Ω–≥ severity: "low" ‚Üí `IncidentSeverity.LOW`, etc.
  - –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏–∑ drift –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ incidents –≤ Causal Analysis Engine: `causal_engine.add_incident(incident)`
- –í—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ ML-–∞–Ω–∞–ª–∏–∑–∞: `causal_engine.analyze(incident_id)`
- Fallback –Ω–∞ –ø—Ä–æ—Å—Ç—É—é –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É, –µ—Å–ª–∏ ML –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω
- ~80 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

**–ö–æ–¥:**
```python
# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ drift –≤ IncidentEvent
incident = IncidentEvent(
    event_id=f"drift_{drift.drift_type}_{drift.detected_at}",
    timestamp=datetime.fromisoformat(drift.detected_at),
    node_id="ledger",
    anomaly_type=drift.drift_type,
    severity=severity_map.get(drift.severity, IncidentSeverity.MEDIUM),
    metrics={"drift_count": 1, "section": drift.section},
    detected_by="drift_detector",
    anomaly_score=0.8 if drift.severity == "critical" else 0.4
)

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ Causal Analysis Engine
self.causal_engine.add_incident(incident)

# –í—ã–∑–æ–≤ —Ä–µ–∞–ª—å–Ω–æ–≥–æ ML-–∞–Ω–∞–ª–∏–∑–∞
causal_result = self.causal_engine.analyze(critical_incident.event_id)

# –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
for rc in causal_result.root_causes:
    root_causes.append({
        "type": rc.root_cause_type,
        "confidence": rc.confidence,
        "explanation": rc.explanation,
        "method": "ml_causal_analysis"
    })
```

---

## üìà –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –ö–æ–¥
- **–ë—ã–ª–æ:** ~382 —Å—Ç—Ä–æ–∫–∏ (3 –º–µ—Ç–æ–¥–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é, 2 –±–∞–∑–æ–≤–æ)
- **–°—Ç–∞–ª–æ:** ~582 —Å—Ç—Ä–æ–∫–∏ (5 –º–µ—Ç–æ–¥–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π)
- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** ~200 —Å—Ç—Ä–æ–∫ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ GraphSAGE: –†–µ–∞–ª—å–Ω–∞—è ML-–º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ Causal Analysis: –†–µ–∞–ª—å–Ω—ã–π ML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ Fallback: –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ML –∏–ª–∏ –Ω–µ–æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: –í–∫–ª—é—á–∞—é—Ç `anomalies` –∏ `root_causes` —Å ML-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### –¢–µ—Å—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω `test_drift_detector_ml_integration.py` (4 —Ç–µ—Å—Ç–∞)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö ML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ fallback –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ñ–ª–∞–≥–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `TECHNICAL_DEBT_COMPLETE_2026_01_07.md` –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ `CONTINUITY.md` –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω: "–ø–æ–ª–Ω–∞—è ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è" –≤–º–µ—Å—Ç–æ "–±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è"

---

## üéØ –°–¢–ê–¢–£–°

**–î–æ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- üü° GraphSAGE: –±–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (z-scores)
- üü° Causal Analysis: –±–∞–∑–æ–≤–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

**–ü–æ—Å–ª–µ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- ‚úÖ GraphSAGE: –ø–æ–ª–Ω–∞—è ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `GraphSAGEAnomalyDetector.predict()`
- ‚úÖ Causal Analysis: –ø–æ–ª–Ω–∞—è ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `CausalAnalysisEngine.analyze()`

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

1. **–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:** ML-–º–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—É—á–µ–Ω—ã –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - GraphSAGE: `detector.is_trained = True` –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è
   - Causal Analysis: —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ–±—É—á–µ–Ω–∏—è (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä–∞—Ñ—ã –∏ –ª–æ–≥–∏–∫—É)

2. **Fallback:** –ï—Å–ª–∏ ML –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –æ–±—É—á–µ–Ω–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback
   - GraphSAGE: –ø—Ä–æ—Å—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (z-scores)
   - Causal Analysis: –ø—Ä–æ—Å—Ç–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ fallback
   - GraphSAGE: ~15ms inference time (–µ—Å–ª–∏ –º–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞)
   - Causal Analysis: ~100ms analysis time

---

## ‚úÖ –í–´–í–û–î–´

1. **ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:** ‚úÖ
   - –†–µ–∞–ª—å–Ω—ã–µ ML-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
   - Fallback —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ML
   - –¢–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—è—Ç

2. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞:** ‚úÖ
   - –ß–∏—Å—Ç—ã–π –∫–æ–¥ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
   - –¢–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

3. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production:** ‚úÖ
   - ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
   - Fallback –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–∫–ª—é—á–∞—é—Ç ML-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

---

**–°—Ç–∞—Ç—É—Å:** üü¢ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞  
**–í—Ä–µ–º—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** ~2 —á–∞—Å–∞  
**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:** –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

